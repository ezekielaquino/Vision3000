parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"SnTA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){var r=new Image;return new Promise(function(o,n){r.src=e,r.onload=o(r),r.onerror=n})};exports.default=e;
},{}],"uOLC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initVision3000=void 0;var e=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}(),o=require("./RequestImage"),n=t(o);function t(e){return e&&e.__esModule?e:{default:e}}function i(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var r=function(){function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,o),this.options={rootMargin:e.rootMargin||"0px 0px",threshold:e.threshold||[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]},this.onIntersect=e.onIntersect,this.FPS=2,this.init()}return e(o,[{key:"init",value:function(){var e=this;window.VISION3K={observer:new IntersectionObserver(function(o){e.intersect(o)},this.options),observe:this.observe,onIntersect:this.onIntersect,observables:[],inView:[],viewed:[],errors:[]},this.scrollIntent()}},{key:"intersect",value:function(e){e.forEach(function(e){var o=e.target.observeId;window.VISION3K.inView=window.VISION3K.inView.filter(function(e){return e!==o}),e.isIntersecting&&window.VISION3K.inView.push(o)});var o=window.VISION3K.onIntersect||this.onIntersect;"function"==typeof o&&o(window.VISION3K.inView,window.VISION3K.viewed)}},{key:"loadImages",value:function(){window.VISION3K.inView.forEach(function(e){if(!window.VISION3K.viewed.includes(e)){var o=window.VISION3K.observables[e-1],t=o.querySelector("img");window.VISION3K.viewed.push(e),"function"==typeof o.onLoadStart&&o.onLoadStart(o,t,window.VISION3K.viewed),(0,n.default)(t.dataset.src).then(function(e){e.classList=t.classList,e.decode().then(function(){t.replaceWith(e),"function"==typeof o.onLoad&&o.onLoad(o,t,window.VISION3K.viewed)})}).catch(function(e){console.error("Failed to load image "+t.dataset.src)})}})}},{key:"scrollIntent",value:function(){var e=this;this.scrollProps={scrollSpeed:0,isHalted:!0,prevScrollSpeed:0,prevY:0};!function o(){clearTimeout(e.timeout),e.timeout=setTimeout(function(){var n=Math.abs(window.scrollY-e.scrollProps.prevY),t=0===n;e.scrollProps={scrollSpeed:n,isHalted:t,prevY:window.scrollY,prevScrollSpeed:e.scrollProps.scrollSpeed},t&&e.loadImages(),o()},1e3/e.FPS)}()}},{key:"observe",value:function(e,o){window.VISION3K.observables.push(e),e.observeId=window.VISION3K.observables.length,e.onLoadStart=o.onLoadStart,e.onLoad=o.onLoad,window.VISION3K.observer.observe(e)}}]),o}(),s=exports.initVision3000=function(e){return new r(e)};exports.default=r;
},{"./RequestImage":"SnTA"}],"QvaY":[function(require,module,exports) {
"use strict";var e=require("../../../src"),t=n(e);function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=document.querySelector(".nav"),i=window.innerWidth>720?60:30,s=Math.floor((window.innerWidth-i)/60),d={cells:3*s,width:60*s};r.querySelector(".nav__wrap").style.width=d.width+"px";var c=function(e){var t=["observable"];return e>2&&e<7&&t.push("observable--40"),t},o=document.createDocumentFragment(),l=document.createDocumentFragment(),u=21,m=[].concat(a(Array(d.cells).keys())).map(function(e,t){var n,r=document.createElement("div"),i=document.createElement("figure"),s=new Image;s.src="src/images/sqip/"+(t+1)+".svg",s.dataset.src="src/images/highres/"+(t+1)+".jpg",(n=r.classList).add.apply(n,a(c(t))),r.id="image-"+(t+1),i.appendChild(s),r.appendChild(i),o.appendChild(r);var d=document.createElement("li"),u=document.createElement("a"),m=document.createElement("span"),p=document.createElement("span");return m.innerHTML="IMG"+(t+1),m.classList.add("nav__label"),p.classList.add("nav__dot"),d.classList.add("nav__item"),u.setAttribute("href","#image-"+(t+1)),u.append(m,p),d.appendChild(u),l.appendChild(d),r});r.querySelector("ul").appendChild(l),document.body.appendChild(o);var p=[].concat(a(document.querySelectorAll(".nav__item"))),v=new t.default({rootMargin:"0px 0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],onIntersect:function(e,t){p.forEach(function(t,n){e.includes(n+1)?t.classList.add("viewing"):t.classList.remove("viewing")})}});m.forEach(function(e,t){v.observe(e,{onLoadStart:function(n,a){console.log("Element "+t+" is in vision with src "+a.dataset.src),e.classList.add("is-loading")},onLoad:function(n,a){console.log("Image Loaded! Source is "+a.dataset.src+"."),e.classList.remove("is-loading"),p[t].classList.add("viewed")}})});
},{"../../../src":"uOLC"}]},{},["QvaY"], null)